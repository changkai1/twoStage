<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title></title>
	</head>
	<body>
		<p>通过ajax对象与服务器建立连接，发送请求，请求服务器中的abc.txt文件中的内容</p>
		<input type="button" name="btn" id="btn" value="请求数据" />
		<div id="box">
			
		</div>
		<script type="text/javascript">
			var oBtn = document.getElementById("btn");
			var oDiv = document.getElementById("box");
			//alert(a);
			//加事件
			oBtn.onclick = function(){
				//1.买手机(创建XMLHttpRequest对象)
				//var xhr = new XMLHttpRequest();
				//var xhr = new ActiveXObject("Microsoft.XMLHTTP");
				var xhr = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject("Microsoft.XMLHTTP");
				//alert(xhr.readyState);
				//alert(xhr);
				//2.拨号(与服务器建立连接)
				//第一参: 传递方式: get/post
				//第二参: 请求的URL地址
				//第三参: 是否异步,true : 异步   false : 同步 
				xhr.open("GET","abc.michael",true);
				//alert(xhr.readyState);
				//3.说话(发送请求)
				xhr.send();
				//4.听(接收返回)
				xhr.onreadystatechange = function(){
					//alert(xhr.readyState);
					if(xhr.readyState === 4){
						//alert(xhr.status);
						if(xhr.status === 200){
							oDiv.innerHTML = xhr.responseText;
						}else{
							alert("失败了");
						}
					}
				}
			}
		</script>
	</body>
</html>